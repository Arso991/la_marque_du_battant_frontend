(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5841],{95864:function(e,t,a){Promise.resolve().then(a.bind(a,84737))},87138:function(e,t,a){"use strict";a.d(t,{default:function(){return s.a}});var l=a(231),s=a.n(l)},84737:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return h}});var l=a(57437),s=a(16463),r=a(2265),n=a(92513),d=a(37374),o=a(22920),i=a(89733),c=a(29973),u=a(79467),m=a(40603),f=a(87138);let x=[{accessorKey:"title",header:"Title",cell:e=>{let{row:t}=e;return(0,l.jsx)(f.default,{href:"/products/".concat(t.original._id),className:"hover:text-black",children:t.original.title})}},{accessorKey:"category",header:"Categorie"},{accessorKey:"collections",header:"Collections",cell:e=>{let{row:t}=e;return t.original.collections.map(e=>e.title).join(", ")}},{accessorKey:"price",header:"Prix ($)"},{accessorKey:"expense",header:"Frais ($)"},{id:"actions",cell:e=>{let{row:t}=e;return(0,l.jsx)(m.Z,{item:"product",id:t.original._id})}}];function h(){let e=(0,s.useRouter)(),[t,a]=(0,r.useState)(!0),[m,f]=(0,r.useState)([]),h=async()=>{await new Promise(e=>setTimeout(e,1e3)),f(d.Zc),a(!1)};return(0,r.useEffect)(()=>{h()}),t?(0,l.jsx)(o.Z,{}):(0,l.jsxs)("div",{className:"px-10 py-5",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsx)("p",{className:"text-heading2-bold",children:"Produits"}),(0,l.jsxs)(i.z,{className:"bg-black text-white",onClick:()=>e.push("/articles/new"),children:[(0,l.jsx)(n.Z,{className:"h-4 w-4 mr-2"}),"Ajouter produit"]})]}),(0,l.jsx)(c.Separator,{className:"bg-black my-4"}),(0,l.jsx)(u.DataTable,{columns:x,data:m,searchKey:"title"})]})}},79467:function(e,t,a){"use strict";a.d(t,{DataTable:function(){return p}});var l=a(57437),s=a(89733),r=a(33514),n=a(54175),d=a(2265),o=a(49354);let i=d.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,l.jsx)("div",{className:"relative w-full overflow-auto",children:(0,l.jsx)("table",{ref:t,className:(0,o.cn)("w-full caption-bottom text-sm",a),...s})})});i.displayName="Table";let c=d.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,l.jsx)("thead",{ref:t,className:(0,o.cn)("[&_tr]:border-b",a),...s})});c.displayName="TableHeader";let u=d.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,l.jsx)("tbody",{ref:t,className:(0,o.cn)("[&_tr:last-child]:border-0",a),...s})});u.displayName="TableBody",d.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,l.jsx)("tfoot",{ref:t,className:(0,o.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",a),...s})}).displayName="TableFooter";let m=d.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,l.jsx)("tr",{ref:t,className:(0,o.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",a),...s})});m.displayName="TableRow";let f=d.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,l.jsx)("th",{ref:t,className:(0,o.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",a),...s})});f.displayName="TableHead";let x=d.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,l.jsx)("td",{ref:t,className:(0,o.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",a),...s})});x.displayName="TableCell",d.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,l.jsx)("caption",{ref:t,className:(0,o.cn)("mt-4 text-sm text-muted-foreground",a),...s})}).displayName="TableCaption";var h=a(77209);function p(e){var t,a,o;let{columns:p,data:j,searchKey:N}=e,[g,b]=(0,d.useState)([]),y=(0,r.b7)({data:j,columns:p,getCoreRowModel:(0,n.sC)(),onColumnFiltersChange:b,getPaginationRowModel:(0,n.G_)(),getFilteredRowModel:(0,n.vL)(),state:{columnFilters:g}});return(0,l.jsxs)("div",{className:"py-5",children:[(0,l.jsx)("div",{className:"flex items-center py-4",children:(0,l.jsx)(h.I,{placeholder:"Rechercher...",value:null!==(o=null===(t=y.getColumn(N))||void 0===t?void 0:t.getFilterValue())&&void 0!==o?o:"",onChange:e=>{var t;return null===(t=y.getColumn(N))||void 0===t?void 0:t.setFilterValue(e.target.value)},className:"max-w-sm"})}),(0,l.jsx)("div",{className:"rounded-md border",children:(0,l.jsxs)(i,{children:[(0,l.jsx)(c,{children:y.getHeaderGroups().map(e=>(0,l.jsx)(m,{children:e.headers.map(e=>(0,l.jsx)(f,{children:e.isPlaceholder?null:(0,r.ie)(e.column.columnDef.header,e.getContext())},e.id))},e.id))}),(0,l.jsx)(u,{children:(null===(a=y.getRowModel().rows)||void 0===a?void 0:a.length)?y.getRowModel().rows.map(e=>(0,l.jsx)(m,{"data-state":e.getIsSelected()&&"selected",children:e.getVisibleCells().map(e=>(0,l.jsx)(x,{children:(0,r.ie)(e.column.columnDef.cell,e.getContext())},e.id))},e.id)):(0,l.jsx)(m,{children:(0,l.jsx)(x,{colSpan:p.length,className:"h-24 text-center",children:"No results."})})})]})}),(0,l.jsxs)("div",{className:"flex items-center justify-end space-x-2 py-4",children:[(0,l.jsx)(s.z,{variant:"outline",size:"sm",onClick:()=>y.previousPage(),disabled:!y.getCanPreviousPage(),children:"Pr\xe9cedent"}),(0,l.jsx)(s.z,{variant:"outline",size:"sm",onClick:()=>y.nextPage(),disabled:!y.getCanNextPage(),children:"Suivant"})]})]})}},40603:function(e,t,a){"use strict";a.d(t,{Z:function(){return y}});var l=a(57437),s=a(2265),r=a(90399),n=a(76669),d=a(49354),o=a(89733);let i=n.fC,c=n.xz,u=n.h_,m=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,l.jsx)(n.aV,{className:(0,d.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...s,ref:t})});m.displayName=n.aV.displayName;let f=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,l.jsxs)(u,{children:[(0,l.jsx)(m,{}),(0,l.jsx)(n.VY,{ref:t,className:(0,d.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...s})]})});f.displayName=n.VY.displayName;let x=e=>{let{className:t,...a}=e;return(0,l.jsx)("div",{className:(0,d.cn)("flex flex-col space-y-2 text-center sm:text-left",t),...a})};x.displayName="AlertDialogHeader";let h=e=>{let{className:t,...a}=e;return(0,l.jsx)("div",{className:(0,d.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...a})};h.displayName="AlertDialogFooter";let p=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,l.jsx)(n.Dx,{ref:t,className:(0,d.cn)("text-lg font-semibold",a),...s})});p.displayName=n.Dx.displayName;let j=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,l.jsx)(n.dk,{ref:t,className:(0,d.cn)("text-sm text-muted-foreground",a),...s})});j.displayName=n.dk.displayName;let N=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,l.jsx)(n.aU,{ref:t,className:(0,d.cn)((0,o.d)(),a),...s})});N.displayName=n.aU.displayName;let g=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,l.jsx)(n.$j,{ref:t,className:(0,d.cn)((0,o.d)({variant:"outline"}),"mt-2 sm:mt-0",a),...s})});g.displayName=n.$j.displayName;var b=a(88726),y=e=>{let{item:t,id:a}=e,[n,d]=(0,s.useState)(!1),u=async()=>{try{d(!0);let e="product"===t?"products":"collections";(await fetch("/api/".concat(e,"/").concat(a),{method:"DELETE"})).ok&&(d(!1),window.location.href="/".concat(e),b.ZP.success("".concat(t," deleted")))}catch(e){console.log(e),b.ZP.error("Something went wrong! Please try again.")}};return(0,l.jsxs)(i,{children:[(0,l.jsx)(c,{children:(0,l.jsx)(o.z,{className:"bg-black text-white",children:(0,l.jsx)(r.Z,{className:"h-4 w-4"})})}),(0,l.jsxs)(f,{className:"bg-white text-grey-1",children:[(0,l.jsxs)(x,{children:[(0,l.jsx)(p,{className:"text-red-1",children:"Are you absolutely sure?"}),(0,l.jsxs)(j,{children:["This action cannot be undone. This will permanently delete your"," ",t,"."]})]}),(0,l.jsxs)(h,{children:[(0,l.jsx)(g,{children:"Cancel"}),(0,l.jsx)(N,{className:"bg-red-1 text-white",onClick:u,children:"Delete"})]})]})]})}}},function(e){e.O(0,[2967,231,8870,9290,3514,5781,2971,7023,1744],function(){return e(e.s=95864)}),_N_E=e.O()}]);